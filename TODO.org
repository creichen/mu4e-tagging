* Main
** DONE Show tags column with tag summaries + initial tagging
- State "DONE"       from "TODO"       [2023-10-13 Fr 07:49]
*** DONE minor mode to bind retagging hotkeys to specific tagging commands in easily-updateable list in .emacs.  Distinguish 'exclusive' from 'nonexclusive' tags; auto-remove exclusive ones when tagging.
- State "DONE"       from "TODO"       [2023-10-11 Wed 06:54]
*** DONE flag tagging
- State "DONE"       from "TODO"       [2023-10-11 Wed 07:30]
*** DONE category tagging
- State "DONE"       from "TODO"       [2023-10-11 Wed 07:30]
*** DONE merge old and new
- State "DONE"       from "TODO"       [2023-10-11 Mi 16:52]
*** DONE refactor toggles
- State "DONE"       from "TODO"       [2023-10-12 Do 07:10]
**** DONE check that creichen/mu4e-tagging-categories-get and its counterpart do the right things
- State "DONE"       from "TODO"       [2023-10-12 Do 07:10]
*** DONE move my customisation out of the tagging mode description
- State "DONE"       from "TODO"       [2023-10-12 Do 12:56]
*** DONE convert rest of code to alist format
- State "DONE"       from "TODO"       [2023-10-13 Fri 07:09]
*** DONE untag-prefix to key format
- State "DONE"       from "TODO"       [2023-10-13 Fr 07:27]
*** DONE key and action for 'uncategorised'
- State "DONE"       from "TODO"       [2023-10-13 Fr 07:40]
** DONE initial query information
- State "DONE"       from "TODO"       [2023-10-15 So 16:59]
*** DONE filtering: search by category
- State "DONE"       from "TODO"       [2023-10-13 Fri 20:02]
*** DONE filtering: search by uncategorised
- State "DONE"       from "TODO"       [2023-10-13 Fri 20:41]
*** DONE filtering: search by flag(s)
- State "DONE"       from "TODO"       [2023-10-13 Fri 20:41]
*** DONE filtering: seatch by negative flag(s)
- State "DONE"       from "TODO"       [2023-10-13 Fri 20:41]
*** DONE fixme: avoid aggregative multi-rewriting
- State "DONE"       from "TODO"       [2023-10-14 Sat 09:58]
*** DONE disable search
- State "DONE"       from "TODO"       [2023-10-14 Sat 09:58]
*** DONE functionality: search by category
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:04]
*** DONE functionality: search by uncategorized
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:04]
*** DONE functionality: search by flag(s)
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:04]
*** DONE functionality: search by negative flag(s)
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:04]
*** DONE fixme: auto-clear query-submode and tagging mode when they are interfering
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:04]
*** DONE fix: tagging keymap precedence
- State "DONE"       from "TODO"       [2023-10-14 Sat 15:15]
*** DONE UI: enter query mode
- State "DONE"       from "TODO"       [2023-10-15 So 10:39]
*** DONE UI: exit query mode
- State "DONE"       from "TODO"       [2023-10-15 So 10:39]
*** DONE UI: set search category
- State "DONE"       from "TODO"       [2023-10-15 So 10:39]
*** DONE UI: set no search category
- State "DONE"       from "TODO"       [2023-10-15 So 10:39]
*** DONE UI: figure out why changing category triggers search rerun properly, but other case does not
- State "DONE"       from "TODO"       [2023-10-15 So 16:58]
*** DONE UI: toggle flag
- State "DONE"       from "TODO"       [2023-10-15 So 16:58]
*** DONE UI: toggle negative flag
- State "DONE"       from "TODO"       [2023-10-15 So 16:58]
** DONE size info window automatically (might already be implemented?)
- State "DONE"       from "TODO"       [2023-10-16 Mon 10:02]
** TODO cleanup
*** DONE fix re-enable after previous disable
- State "DONE"       from "TODO"       [2023-10-15 So 17:15]
*** DONE fix gradual progression for flags
- State "DONE"       from "TODO"       [2023-10-15 So 18:46]
*** DONE fix :weight (tentatively)
- State "DONE"       from "TODO"       [2023-10-15 Sun 20:00]
*** DONE text-align the tags-info box properly
- State "DONE"       from "TODO"       [2023-10-16 Mon 09:43]
Key   Flag   Tag  [C-w]
[C-d]             filter      (uncategorised)
[4]          40   filter      edap40
[1]          15   require(+)  edap15
[+]   f       +   -(block)    todo
*** DONE show search status info
- State "DONE"       from "TODO"       [2023-10-16 Mon 09:43]
*** DONE status window has custom face so we can adjust font size etc.
- State "DONE"       from "TODO"       [2023-10-16 Mon 09:43]
*** DONE cleanup debug code
- State "DONE"       from "TODO"       [2023-10-16 Mon 09:48]
*** DONE group customizing
- State "DONE"       from "TODO"       [2023-10-16 Mon 10:00]
*** DONE missing defun docs
- State "DONE"       from "TODO"       [2023-10-16 Mon 10:30]
** TODO manual decision support
*** TODO utilise mail window
*** TODO highlight current tags in tag window
** TODO refactoring
*** TODO provide 'mu4e-tagging
*** TODO remove all the "minor-mode" stuff where not needed
*** TODO merge the key-tables
*** TODO organise function definitions better
** TODO decision and inspection stats
*** TODO track most recent "viewed tags" date per tag as reminder
*** TODO track most recent "viewed" date individually for selected tags ("todo")
*** TODO view tag stats
** TODO automatic decision support
*** TODO suggest tags
* Notes
** Bits and pieces about search

#+BEGIN_SRC elisp
  (defun creichen/printme (&rest all)
    (interactive)
    (message "printme: %s" all)
    all)

  (add-hook 'mu4e-search-hook 'creichen/printme)

  (setq creichen/mu4e-tagging-reverse-key-table-search (make-hash-table :test 'equal))
  (defun creichen/mu4e-tagging-search-tag (&rest tag)
    "Searches for the given tag or tags on top of the most recent mu4e-search.
     Arguments of the form :require A B C will require tags A, B, and C;
     :no-category searches for lack of category tagging."
    (mu4e)
    (
     mu4e-he
     mu4e--search-last-query
     )(lax-plist-get '(:bar "x" :foo "a" "b" :quux) :foo)


  (defun creichen/mu4e-tagging-search-interceptor-tag (&rest tag)
    (interactive)

    )

(creichen/mu4e-tagging-query-filter "foo")

#+END_SRC
